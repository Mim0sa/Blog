# SF Symbols 7 新功能总结

## 概述
SF Symbols 7 带来了全新的绘制功能和多项增强特性，为符号系统增加了动画、渐变和更强大的自定义能力。

## 主要新功能

### 1. 绘制功能 (Draw)
- **新增动画预设**：
  - Draw On：符号绘制进入动画
  - Draw Off：符号绘制退出动画
  
- **播放选项**：
  - By Layer（默认）：每个路径以错开的时间开始绘制
  - Whole Symbol：所有层同时绘制
  - Individually：逐层绘制，等待前一层完成后再开始下一层

- **绘制方向**：
  - 从左到右（如风的符号表现运动）
  - 从右到左（如阿拉伯字符）
  - 从中心向外（对称符号）

- **复杂形状支持**：
  - 支持由多个形状组成的符号（如箭头）
  - 箭头可以沿着路径移动

### 2. 可变绘制 (Variable Draw)
- 类似于可变颜色，但通过绘制进度来表现强度或进度
- 在减少不透明度的图层上渲染特定百分比的路径
- 适用场景：下载进度、温度显示、健身进度等

### 3. Magic Replace 增强
- **封闭形状匹配**：识别相同的封闭形状，在两个状态间提供无缝过渡
- **绘制集成**：结合 Draw Off（退出符号）和 Draw On（进入符号）
- **智能混合**：系统自动混合匹配新功能，提供最流畅的过渡效果

### 4. 渐变支持 (Gradients)
- 为符号添加深度、维度和视觉趣味
- 从单一源颜色生成平滑的线性渐变
- 支持系统和自定义颜色
- 适用于所有渲染模式和自定义符号
- 在大尺寸实例中效果尤其突出

## 自定义符号注释

### 引导点 (Guide Points)
- **最少要求**：每个路径至少需要两个引导点
  - 起始点（空心圆圈）
  - 结束点（实心圆圈）
- **复杂路径**：可能需要额外的引导点来填补间隙或处理多个绘制路径

### 特殊引导点类型
- **角点**：处理尖锐转角的特殊引导点，用菱形表示
- **附件**：将非绘制元素（如箭头）附加到引导点上

### 注释工作流程
1. 从常规权重开始注释（作为基础注释）
2. 系统自动插值到超轻和黑体权重
3. 确保相关引导点在所有权重中保持正确顺序
4. 使用引导点编号来检查顺序

### 高级选项
- **手动调整**：按住 Option 键拖动引导点的一侧
- **子路径选择**：直接从图层列表选择特定子路径
- **类型覆盖**：通过上下文菜单更改引导点类型
- **自适应端点**：匹配路径的绘制样式

## API 更新

### SwiftUI
```swift
// 绘制动画
.symbolEffect(.draw, value: isHidden)

// 可变绘制
.symbolRenderingMode(.variable)
.symbolVariableValue(progress)

// 渐变渲染
.symbolRenderingMode(.gradient)
```

### UIKit/AppKit
- 使用 Draw On 和 Draw Off 触发相应动画
- 通过符号配置选项设置渐变渲染模式
- 可设置所需的播放模式

## 下一步行动
1. 下载 SF Symbols 7 beta 版本
2. 浏览更新的符号库并体验新功能
3. 检查现有自定义绘图以充分利用新的注释选项
4. 参考框架文档了解代码实现细节

## 总结
SF Symbols 7 通过引入绘制功能、渐变支持和增强的 Magic Replace，为开发者提供了更丰富的符号动画和视觉表现能力。这些新功能不仅提升了用户界面的表现力，也为应用程序的交互体验带来了新的可能性。